<html>

<head>
	<title>RE Calculator</title>
	<style>

	</style>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>

<body>
	<!-- some HTML -->
	<div id="root"></div>
	<!-- some other HTML -->
</body>

</html>

<div>
	<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
	<!-- babel is required in order to parse JSX -->

	<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
	<!-- import react.js -->

	<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"> </script>
	<!-- import react-dom.js -->

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
		integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

	<script type="text/babel">

		const TestComponent = ({date}) => {
			const [time, setTime] = React.useState(date.toLocaleTimeString());
			const [url, setUrl] = React.useState("");
			const handleClick = () => {
				setTime(new Date().toLocaleTimeString());
			};

			React.useEffect(() => {
				setUrl(document.location.href)
			}, []);

			return (
				<React.Fragment>
					<div>{`Time: ${time}`}</div>
					<div>{`URL: ${url}`}</div>
					<button type="button" onClick={handleClick}>Update</button>
				</React.Fragment>
			);
		}


		const SingleInput = ({
		  label,
		  inputName,
          inputValue,
          additionalInfoText,
          handleOnChange,
          disabled,
          prefix,
          suffix,
          required,
          roundValue=true
        } = props) => {

			let isInvalid = "";
			if (required && !inputValue){
				isInvalid = "is-invalid"
			}

			// const handleChange = (event) => {
			// 	setValue(event.target.value)
			// };

			const value = (roundValue ? Math.ceil(inputValue) : inputValue);

			return (
				<div className="input-group row py-1 ">
					<label  className="col-md-2">{label}</label>
					<div className="col-md-4">
					<div className="input-group">
						<div className="input-group-prepend">
						<span className="input-group-text">{prefix}</span>
						</div>
						<input className={"form-control " + isInvalid}
							type="number"
							name={inputName}
							value={value || ""}
							onChange={handleOnChange}
							disabled={disabled ? "disabled" : ""}
						/>
						<div className="input-group-append">
						<span className="input-group-text">{suffix}</span>
						</div>
					</div>
					</div>
					<div className="col-md-2">{additionalInfoText}</div>
				</div>
			);
		}

		const Part0 = ({ form, setState } = props) => {

			const handleOnChange = (e) => {
				setState({
					...form,
					[e.target.name]: e.target.value
				});
			};


			return (
				<div>
					<SingleInput
						label="Asking Price"
						inputName="askingPrice"
						inputValue={form.askingPrice}
						handleOnChange={handleOnChange}
						prefix={"$"}
					/>
				</div>
			);
		};

		// Total Project Cost
		const Part1 = ({
          purchasePrice,
          handleChange,
          estimatedRepairs,
          purchaseClosingCosts,
          preRentHoldingCosts,
          totalProjectCost
        } = props) => {

			return (
				<div>
					<h2>1) Total Project Cost: ${totalProjectCost.toCurrency()}</h2>
					<SingleInput
					inputDisplayName="Purchase Price"
					inputValue={purchasePrice}
					inputName="purchasePrice"
					handleChange={handleChange}
					appendValue=" "
					required="true"
					/>

					
				</div>
        );
    }
		const Container = () => {
			const [form, setState] = React.useState({

			});

			return (
				<div className="container">
					<h1 className="text-center">RE Calculator</h1>
					<form>
						<Part0
							form={form}
							setState={setState}
						/>
						{form.askingPrice}
					</form>
				</div>
			);
		}

		const element = (
			<div>
				<Container/>
			</div>
		);

		ReactDOM.render(
			element,
			document.getElementById('root')
		);

	</script>
</div>